function shimImageUrl(image){if(image)return picture=image.replace("https://untappd.s3.amazonaws.com","https://untappd.akamaized.net"),picture}function slugify(text,type){var r=text.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return""!==r?r:""==r&&"venue"==type?"venue-place":""==r&&"beer"==type?"beer":"brewery"}function shimVenueIcons(picture,size){return picture=shimImageUrl(picture),picture=picture.replace("/categories/","/categories_v2/"),picture=picture.replace("http://","https://"),"sm"==size?picture.replace(".png","_bg_64.png"):"md"==size?picture.replace(".png","_bg_64.png"):"lg"==size?picture.replace(".png","_bg_88.png"):void 0}function formatAddress(item){const location=item,cityState=_.filter([location.venue_city,location.venue_state]).join(", ");return location.venue_address+"  "+cityState}function trackMobileEvent(label){_gaq.push(["_trackEvent","Mobile Menu","Click",label])}$(document).ready(function(){function addPositionToHits(hits,queryID){return hits.map(function(entry,index){return entry._position=index+1,entry._queryID=queryID,entry})}var client=algoliasearch("9WBO4RQ3HO","1d347324d67ec472bb7132c66aead485"),beers=client.initIndex("beer"),breweries=client.initIndex("brewery"),venues=client.initIndex("venue");autocomplete(".search-input-desktop",{},[{source:function(query,callback){beers.search(query,{hitsPerPage:3,clickAnalytics:!0,analytics:query.length>3}).then(function(answer){var hits=addPositionToHits(answer.hits,answer.queryID);answer.hits=hits,callback(answer.hits,answer)})},displayKey:function(suggestion){return suggestion.beer_name},templates:{header:function(query,hits){return'<div class="ac_section">Beers ('+hits.nbHits+")</div>"},footer:function(query,hits){if(hits.nbHits>3)return'<div class="see-more-results"> <a href="/search?q='+encodeURI(query.query)+'&type=beer" class="track-click" data-track="search_autocomplete" data-href=":seemore">See More Beers</a>'},suggestion:function(suggestion){var slug=slugify(suggestion.brewery_name+" "+suggestion.beer_name,"beer"),imageUrl=shimImageUrl(suggestion.beer_label);return'<a href="/b/'+slug+"/"+suggestion.bid+'" class="ac_item track-click" data-track="search_autocomplete" data-href=":beerlink">                     <p class="label">                      <img src="'+imageUrl+'">                     </p>                     <p class="info">                       <span class="title">'+suggestion.beer_name+'</span>                       <span class="sub_title">'+suggestion.brewery_name+"</span>                    </p>                   </a>"}}},{source:function(query,callback){breweries.search(query,{hitsPerPage:3,clickAnalytics:!0,analytics:query.length>3}).then(function(answer){var hits=addPositionToHits(answer.hits,answer.queryID);answer.hits=hits,callback(answer.hits,answer)})},templates:{header:function(query,hits){return'<div class="ac_section">Breweries ('+hits.nbHits+")</div>"},footer:function(query,hits){if(hits.nbHits>3)return'<div class="see-more-results"> <a href="/search?q='+encodeURI(query.query)+'&type=brewery" class="track-click" data-track="search_autocomplete" data-href=":seemore">See More Breweries</a>'},suggestion:function(suggestion){var imageUrl=(slugify(suggestion.brewery_name,"brewery"),shimImageUrl(suggestion.brewery_image));return'<a href="'+suggestion.brewery_page_url+'" class="ac_item track-click" data-track="search_autocomplete" data-href=":brewerylink">                   <p class="label">                     <img src="'+imageUrl+'">                   </p>                   <p class="info">                     <span class="title">'+suggestion.brewery_name+'</span>                     <span class="sub_title">'+suggestion.brewery_country+"</span>                   </p>                 </a>"}}},{source:function(query,callback){venues.search(query,{hitsPerPage:3,aroundRadius:"all",getRankingInfo:!0,clickAnalytics:!0,analytics:query.length>3,page:0,filters:"is_testing_venue:0 AND is_hidden:0",aroundLatLngViaIP:"true"}).then(function(answer){var hits=addPositionToHits(answer.hits,answer.queryID);answer.hits=hits,callback(answer.hits,answer)})},templates:{header:function(query,hits){return'<div class="ac_section">Venues ('+hits.nbHits+")</div>"},footer:function(query,hits){if(hits.nbHits>3)return'<div class="see-more-results"> <a href="/search?q='+encodeURI(query.query)+'&type=venues" class="track-click" data-track="search_autocomplete" data-href=":seemore">See More Venues</a>'},suggestion:function(suggestion){var slug=slugify(suggestion.venue_name,"venue"),imageUrl=shimVenueIcons(suggestion.venue_picture,"sm"),text='<a href="/v/'+slug+"/"+suggestion.venue_id+'" class="ac_item track-click" data-track="search_autocomplete" data-href=":venuelink">                 <p class="label">                  <img src="'+imageUrl+'">                 </p>                 <p class="info">';return suggestion.is_verified&&(text+='<span class="verified">Verified</span>'),text+='<span class="title">'+suggestion.venue_name+'</span>                     <span class="sub_title">'+formatAddress(suggestion)+"</span>",suggestion.is_closed&&(text+="<span class='sub_title' style='margin-top: 2px; color: #FF3D3D; font-weight: 600;'>Closed</span></p>"),text+="</p></a>"}}}]).on("autocomplete:selected",function(event,suggestion){window.aa("click",{objectID:suggestion.objectID,position:suggestion._position,queryID:suggestion._queryID})}),$(".track-focus").click(function(){var d=$(this).attr("data-track")+":"+$(this).attr("placeholder");_gaq.push(["_trackEvent","Search Focus","Click",d])}),$(document).on("click",".track-click",function(){var d=$(this).attr("data-track");$(this).attr("data-href")&&(d+=$(this).attr("data-href")),_gaq.push(["_trackEvent","Click","Click",d])})}),$(document).on("change",".track-change",function(){var d=$(this).attr("data-track");$(this).attr("data-href")&&(":sort"==$(this).attr("data-href")?d=d+$(this).attr("data-href")+"/"+$(this).val():d+=$(this).attr("data-href")),_gaq.push(["_trackEvent","Click","Click",d])});